<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to ggepi • ggepi</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">ggepi</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/ggepi.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lwjohnst86/ggepi">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Introduction to ggepi</h1>
                        <h4 class="author">Luke W. Johnston</h4>
            
            <h4 class="date">2017-07-28</h4>
          </div>

    
    
<div class="contents">
<div id="estimates-and-confidence-intervals-from-regression-models" class="section level2">
<h2 class="hasAnchor">
<a href="#estimates-and-confidence-intervals-from-regression-models" class="anchor"></a>Estimates and confidence intervals from regression models</h2>
<p>In most cases, showing a figure of some results is more impactful than showing a table. Often times in epidemiology, results from analyses are put into a table. This is less then ideal for busy researchers, as it takes longer to process and understand the results from a table than it is from a figure. So</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(broom)
fit &lt;-<span class="st"> </span><span class="kw">lm</span>(Fertility ~<span class="st"> </span><span class="dv">0</span> +<span class="st"> </span>Catholic +<span class="st"> </span>Agriculture +<span class="st"> </span>Examination +<span class="st"> </span>Education +<span class="st"> </span>Infant.Mortality, <span class="dt">data =</span> swiss)
fit &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/broom/topics/tidy">tidy</a></span>(fit, <span class="dt">conf.int =</span> <span class="ot">TRUE</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/view_estci.html">view_estci</a></span>(fit)</code></pre></div>
<p><img src="ggepi_files/figure-html/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></p>
<p>If you want more fine-grained control, you can use the <code>geom_estci</code> layer directly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(fit, <span class="kw">aes</span>(<span class="dt">x =</span> estimate, <span class="dt">y =</span> term, <span class="dt">xmin =</span> conf.low, <span class="dt">xmax =</span> conf.high)) +
<span class="st">    </span><span class="kw"><a href="../reference/geom_estci.html">geom_estci</a></span>()</code></pre></div>
<p><img src="ggepi_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></p>
<p>There is a utility function <code>discrete_pvalue</code> to convert a numeric p-value into a factor, which makes it easier to visualize the results. So:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">fit2 &lt;-<span class="st"> </span><span class="kw">transform</span>(fit, <span class="dt">p.value =</span> <span class="kw"><a href="../reference/discrete_pvalue.html">discrete_pvalue</a></span>(fit$p.value))

p &lt;-<span class="st"> </span><span class="kw">ggplot</span>(fit2, <span class="kw">aes</span>(<span class="dt">x =</span> estimate, <span class="dt">y =</span> term, <span class="dt">xmin =</span> conf.low, <span class="dt">xmax =</span> conf.high,
                 <span class="dt">alpha =</span> p.value, <span class="dt">size =</span> p.value)) 
p +<span class="st"> </span><span class="kw"><a href="../reference/geom_estci.html">geom_estci</a></span>(<span class="dt">fatten =</span> <span class="dv">1</span>, <span class="dt">center.linetype =</span> <span class="st">"dotted"</span>)</code></pre></div>
<p><img src="ggepi_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></p>
<p>We can add ends to the error bars too.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">p +<span class="st"> </span><span class="kw"><a href="../reference/geom_estci.html">geom_estci</a></span>(<span class="dt">fatten =</span> <span class="dv">1</span>, <span class="dt">center.linetype =</span> <span class="st">"dotted"</span>, <span class="dt">height =</span> <span class="fl">0.5</span>, <span class="dt">linetype =</span> <span class="st">"dashed"</span>)</code></pre></div>
<p><img src="ggepi_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></p>
<p>All of the power of ggplot2 is available to customize the <code>geom_estci</code> layer. Check out the documentation for the <code>geom_estci</code> function as well as the ggplot2 layers e.g. <code>geom_pointrange</code> or <code>geom_point</code> for full customization. Since this is a ggplot2 object, you can add to it all you want, like using <code>facet_grids</code>.</p>
</div>
<div id="similar-packages" class="section level1">
<h1 class="hasAnchor">
<a href="#similar-packages" class="anchor"></a>Similar packages</h1>
<p>There are a few packages that have similar functionality as the e.g. <code>geom_estci</code>, but each has its own specific use cases:</p>
<ul>
<li>
<a href="https://cran.r-project.org/package=dotwhisker">dotwhisker</a> package</li>
<li>
<a href="https://ggobi.github.io/ggally/">GGally</a> package</li>
</ul>
<p>In both of these packages, they assume you’ll plot <em>directly</em> from the <code>lm</code> or other regression function, so they do a lot of internal data wrangling and managing. The ggepi package is as hands off as possible when it comes to your data you plan to plot, so all of the work in getting the data ready for the figure must be done before hand. This package assumes what you want to plot is what you want to plot, nothing more. There are trade offs to both ways of doing things! Try the different packages out yourself and find out what works for you!</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#estimates-and-confidence-intervals-from-regression-models">Estimates and confidence intervals from regression models</a></li>
      <li><a href="#similar-packages">Similar packages</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Luke Johnston.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
